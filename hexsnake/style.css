
/* CASSETTE FUTURISM · NASA PUNK · ATOMIC RETRO — HexSnake v3.0 */
@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;600;700;900&family=Share+Tech+Mono&display=swap');

:root{
  --or:#E8640A;--or2:#F5920A;
  --blk:#080604;--blk2:#110E08;
  --muted:#7A7060;--teal:#00A896;--red:#FF2840;--white:#F8F4EC;
  --vhs-r:#FF2840;--vhs-y:#FFE040;--vhs-c:#00F4E8;
  --phosphor:#00FF88;--phosphor2:#00CC66;
  --amber:#FFB830;--amber2:#FFD060;--amber3:#FFA010;
  --dark:#080604;--panel:#0E0B06;
  --cyan:#00E8FF;--nasa-white:#EEE8D8;
}

*{margin:0;padding:0;box-sizing:border-box;}
body{overflow:hidden;background:var(--dark);font-family:'Barlow Condensed',sans-serif;width:100vw;height:100vh;user-select:none;}
#gameCanvas{position:fixed;top:0;left:0;display:block;}

/* ═══ CASSETTE DECK HUD ═══ */
#hud{
  position:fixed;top:0;left:0;right:0;height:52px;z-index:50;
  background:linear-gradient(180deg,#181008 0%,#0D0904 55%,#181008 100%);
  display:flex;align-items:stretch;gap:0;
  font-family:'Share Tech Mono',monospace;
  overflow:hidden;pointer-events:none;
  animation:hud-glitch 11s ease-in-out infinite;
}
@keyframes hud-glitch{
  0%,89%,100%{opacity:1;transform:none}
  90%{opacity:.92;transform:translateX(1px)}
  91%{opacity:1}95%{opacity:.88;transform:translateX(-1px)}96%{opacity:1}
}
#hud::before{
  content:'';position:absolute;inset:0;z-index:30;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent 0,transparent 3px,rgba(0,0,0,0.22) 3px,rgba(0,0,0,0.22) 4px);
}
#hud::after{
  content:'';position:absolute;bottom:0;left:0;right:0;height:3px;z-index:31;
  background:linear-gradient(90deg,var(--vhs-r) 0%,var(--vhs-r) 8%,var(--vhs-y) 8%,var(--vhs-y) 16%,var(--vhs-c) 16%,var(--vhs-c) 24%,var(--phosphor) 24%,var(--phosphor) 32%,rgba(255,255,255,0.06) 32%,rgba(255,255,255,0.06) 100%);
}
.hud-vhs{width:12px;height:100%;flex-shrink:0;display:flex;flex-direction:column;}
.hvhs-r{flex:1;background:var(--vhs-r);}
.hvhs-y{flex:1;background:var(--vhs-y);}
.hvhs-c{flex:1;background:var(--vhs-c);}
.hud-logo{
  flex-shrink:0;width:54px;height:100%;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  border-right:1px solid rgba(255,184,48,0.12);padding:0 4px;
}
.hud-logo-sym{
  font-size:22px;color:var(--amber);line-height:1;
  text-shadow:0 0 12px rgba(255,184,48,0.8);
  animation:sym-pulse 3s ease-in-out infinite;
}
@keyframes sym-pulse{0%,100%{text-shadow:0 0 8px rgba(255,184,48,0.6);}50%{text-shadow:0 0 20px rgba(255,184,48,1),0 0 40px rgba(255,184,48,0.3);}}
.hud-logo-text{font-size:5px;letter-spacing:1px;color:rgba(255,184,48,0.3);text-transform:uppercase;line-height:1;}
.hSeg{
  display:flex;flex-direction:column;justify-content:center;
  padding:0 11px;height:100%;gap:2px;
  border-right:1px solid rgba(255,184,48,0.07);
}
.hRight{margin-left:auto;border-right:none!important;border-left:1px solid rgba(255,184,48,0.07);}
.hLab{font-size:9px;letter-spacing:2.5px;text-transform:uppercase;line-height:1;color:rgba(255,184,48,0.35);}
.hVal{
  font-size:18px;font-weight:700;letter-spacing:1px;min-width:28px;
  font-variant-numeric:tabular-nums;color:var(--amber2);
  text-shadow:0 0 10px rgba(255,184,48,0.5);
  animation:amber-glow 3.5s ease-in-out infinite;
}
@keyframes amber-glow{0%,100%{text-shadow:0 0 6px rgba(255,184,48,0.4);}50%{text-shadow:0 0 16px rgba(255,184,48,0.8),0 0 30px rgba(255,184,48,0.2);}}
.hBar{width:76px;height:5px;background:rgba(255,255,255,0.05);position:relative;overflow:hidden;border:1px solid rgba(255,184,48,0.1);}
.hBar::after{content:'';position:absolute;inset:0;z-index:2;pointer-events:none;background:repeating-linear-gradient(90deg,transparent,transparent 7px,rgba(0,0,0,0.5) 7px,rgba(0,0,0,0.5) 8px);}
.hBarFill{height:100%;transition:width .1s linear;position:relative;z-index:1;}
#xpFill{background:linear-gradient(90deg,#00CC66,#00FF88);}
#lasFill{background:linear-gradient(90deg,var(--vhs-r) 0%,var(--vhs-y) 100%);}
.hud-xhair{
  flex-shrink:0;width:40px;height:100%;
  display:flex;align-items:center;justify-content:center;
  border-right:1px solid rgba(255,184,48,0.07);
  font-size:18px;color:rgba(255,184,48,0.2);
  animation:xhair-rot 8s linear infinite;
}
@keyframes xhair-rot{from{transform:rotate(0)}to{transform:rotate(360deg)}}
#muteBtn{
  flex-shrink:0;margin:0 8px;align-self:center;
  background:rgba(255,184,48,0.06);border:1px solid rgba(255,184,48,0.2);
  color:rgba(255,184,48,0.5);font-family:'Share Tech Mono',monospace;font-size:10px;
  letter-spacing:1px;padding:4px 10px;cursor:pointer;pointer-events:all;transition:all .15s;
}
#muteBtn:hover{background:rgba(255,184,48,0.15);color:var(--amber2);border-color:rgba(255,184,48,0.5);}

/* ═══ Effect Tags ═══ */
#effectBar{position:fixed;bottom:14px;left:14px;display:flex;gap:6px;z-index:50;pointer-events:none;font-family:'Share Tech Mono',monospace;}
.effectTag{padding:4px 12px;font-size:12px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;border:1px solid;position:relative;overflow:hidden;}
.effectTag::before{content:'';position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.15) 2px,rgba(0,0,0,0.15) 3px);}
.tagUp{background:rgba(255,184,48,0.12);color:var(--amber2);border-color:rgba(255,184,48,0.35);text-shadow:0 0 8px rgba(255,184,48,0.5);}
.tagDown{background:rgba(0,244,232,0.08);color:var(--vhs-c);border-color:rgba(0,244,232,0.3);text-shadow:0 0 8px rgba(0,244,232,0.5);}

/* Flash */
#flashMsg{
  position:fixed;top:62px;left:50%;transform:translateX(-50%);
  background:var(--amber);color:#080604;
  font-family:'Share Tech Mono',monospace;font-size:14px;letter-spacing:2px;
  padding:6px 26px;z-index:60;pointer-events:none;
  opacity:0;transition:opacity .3s;font-weight:700;
  clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);
}

/* ═══ OVERLAY BASE ═══ */
.overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:100;display:flex;align-items:center;justify-content:center;}

/* ═══ CORNER MARKS ═══ */
.sCorner{position:absolute;z-index:12;width:50px;height:50px;}
.sCorner.tl{top:0;left:0;border-top:2px solid rgba(255,184,48,0.4);border-left:2px solid rgba(255,184,48,0.4);}
.sCorner.tr{top:0;right:0;border-top:2px solid rgba(255,40,64,0.4);border-right:2px solid rgba(255,40,64,0.4);}
.sCorner.bl{bottom:0;left:0;border-bottom:2px solid rgba(0,244,232,0.4);border-left:2px solid rgba(0,244,232,0.4);}
.sCorner.br{bottom:0;right:0;border-bottom:2px solid rgba(0,255,136,0.4);border-right:2px solid rgba(0,255,136,0.4);}

/* ══════════════════════════════════════════════════════
   START SCREEN — CASSETTE FUTURISM · NASA PUNK REDESIGN
   大面积白色舱室 · VHS磁带盒 · 70年代复古科幻美学
══════════════════════════════════════════════════════ */
#startScreen{
  background:#040302;
  align-items:stretch;justify-content:stretch;
  padding:0;overflow:hidden;
}
#startBg{position:absolute;inset:0;z-index:0;}

/* CRT phosphor scanlines */
#startScreen::before{
  content:'';position:absolute;inset:0;z-index:8;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent 0,transparent 2px,rgba(0,0,0,0.14) 2px,rgba(0,0,0,0.14) 3px);
  animation:crt-beat 9s ease-in-out infinite;
}
@keyframes crt-beat{0%,100%{opacity:1}48%{opacity:0.97}50%{opacity:0.82}52%{opacity:0.97}}

/* Vignette */
#startScreen::after{
  content:'';position:absolute;inset:0;z-index:7;pointer-events:none;
  background:radial-gradient(ellipse at 50% 50%,transparent 40%,rgba(3,1,0,0.82) 100%);
}

/* ─── VHS Side Color Bars ─── */
.s-vhsbar{
  position:absolute;top:0;bottom:0;width:14px;z-index:15;display:flex;flex-direction:column;
}
.s-vhsbar.left{left:0;}
.s-vhsbar.right{right:0;}
.s-vhsbar span{flex:1;}
.svr{background:var(--vhs-r);}
.svy{background:var(--vhs-y);}
.svc{background:var(--vhs-c);}
.svg_{background:var(--phosphor);}
.svw{background:rgba(210,205,188,0.5);}
.svk{background:#030201;}

/* ─── Top Status Bar ─── */
.s-topbar{
  position:absolute;top:0;left:14px;right:14px;height:52px;z-index:14;
  background:rgba(3,2,1,0.97);
  display:flex;align-items:center;padding:0 20px;gap:0;
  font-family:'Share Tech Mono',monospace;overflow:hidden;
}
.s-topbar::after{
  content:'';position:absolute;bottom:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,var(--vhs-r) 0% 25%,var(--vhs-y) 25% 50%,var(--vhs-c) 50% 75%,var(--phosphor) 75% 100%);
}
.s-topbar::before{
  content:'';position:absolute;top:0;left:-22%;width:14%;bottom:2px;z-index:1;
  background:linear-gradient(90deg,transparent,rgba(255,184,48,0.05),transparent);
  animation:tb-sweep 5s ease-in-out infinite;pointer-events:none;
}
@keyframes tb-sweep{0%{left:-22%}100%{left:110%}}
.s-tb-logo{display:flex;align-items:center;gap:9px;padding-right:16px;border-right:1px solid rgba(0,255,136,0.1);flex-shrink:0;}
.s-tb-inf{
  font-family:'Barlow Condensed',sans-serif;font-weight:900;font-size:34px;
  color:var(--phosphor);line-height:1;
  text-shadow:0 0 18px rgba(0,255,136,0.95),0 0 50px rgba(0,255,136,0.25);
  animation:logo-pulse 3.5s ease-in-out infinite;
}
@keyframes logo-pulse{0%,100%{text-shadow:0 0 12px rgba(0,255,136,0.7);}50%{text-shadow:0 0 32px rgba(0,255,136,1),0 0 80px rgba(0,255,136,0.3);}}
.s-tb-name{display:flex;flex-direction:column;gap:1px;}
.s-tb-n1{font-size:13px;letter-spacing:3px;color:rgba(0,255,136,0.8);text-transform:uppercase;}
.s-tb-n2{font-size:9px;letter-spacing:2px;color:rgba(0,255,136,0.28);text-transform:uppercase;}
.s-tb-rec{display:flex;align-items:center;gap:5px;padding:0 14px;font-size:10px;letter-spacing:2px;color:rgba(255,40,64,0.6);border-right:1px solid rgba(255,184,48,0.05);}
.s-tb-recdot{width:6px;height:6px;border-radius:50%;background:var(--vhs-r);box-shadow:0 0 8px var(--vhs-r);animation:rec-blink 1.1s step-end infinite;}
@keyframes rec-blink{0%,100%{opacity:1}50%{opacity:0.05}}
.s-tb-mid{flex:1;display:flex;align-items:center;justify-content:center;gap:28px;font-size:11px;letter-spacing:2px;color:rgba(255,184,48,0.22);}
.s-tb-mid .accent{color:rgba(255,184,48,0.6);}
.s-tb-hi{padding-left:16px;border-left:1px solid rgba(255,184,48,0.08);font-size:14px;letter-spacing:2px;color:var(--amber2);text-shadow:0 0 8px rgba(255,184,48,0.35);flex-shrink:0;}

/* ─── Bottom Bar ─── */
.s-bottombar{
  position:absolute;bottom:0;left:14px;right:14px;height:36px;z-index:14;
  background:rgba(3,2,1,0.97);
  border-top:1px solid rgba(255,184,48,0.07);
  display:flex;align-items:center;justify-content:center;padding:0 32px;
}
.s-ver{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,184,48,0.12);}

/* ════════════════════════════════════
   MAIN LAYOUT: White Panel + Dark CRT
════════════════════════════════════ */
.s-main{
  position:absolute;inset:52px 14px 36px;z-index:10;
  display:grid;
  grid-template-columns:39% 61%;
  gap:0;overflow:hidden;
}

/* ════ LEFT: White Mission Briefing Cabin ════ */
.s-panel-white{
  position:relative;overflow:visible;
  background:linear-gradient(158deg,#F5F0E2 0%,#EDE5CC 52%,#F2EBD8 100%);
  border-right:none;
  display:flex;flex-direction:column;
  padding:22px 26px 16px;
}
/* Warm grid texture */
.s-panel-white::before{
  content:'';position:absolute;inset:0;pointer-events:none;z-index:0;
  background-image:linear-gradient(rgba(0,0,0,0.023) 1px,transparent 1px),linear-gradient(90deg,rgba(0,0,0,0.023) 1px,transparent 1px);
  background-size:22px 22px;
}
.s-panel-white > *{position:relative;z-index:1;}

/* ═══ Light Crack — darkness breaking into light ═══ */
.s-light-crack{
  position:absolute;right:-2px;top:0;bottom:0;width:40px;z-index:20;pointer-events:none;
}
.s-light-crack::before{
  content:'';position:absolute;right:18px;top:0;bottom:0;width:3px;
  background:linear-gradient(180deg,
    transparent 0%, rgba(255,210,80,0.1) 8%,
    rgba(255,200,60,0.9) 20%, rgba(255,240,180,1) 35%,
    rgba(255,255,240,1) 50%, rgba(255,240,180,1) 65%,
    rgba(255,200,60,0.9) 80%, rgba(255,210,80,0.1) 92%,
    transparent 100%);
  box-shadow:0 0 8px rgba(255,200,60,0.8),0 0 20px rgba(255,180,40,0.5),
    0 0 40px rgba(255,160,20,0.25),0 0 80px rgba(255,140,10,0.1);
  animation:crack-pulse 3s ease-in-out infinite;
}
.s-light-crack::after{
  content:'';position:absolute;right:0;top:5%;bottom:5%;width:36px;
  background:linear-gradient(90deg,
    rgba(255,220,100,0.25) 0%,rgba(255,200,60,0.12) 30%,
    rgba(255,180,40,0.04) 60%,transparent 100%);
  animation:rays-breathe 4s ease-in-out infinite;
}
@keyframes crack-pulse{0%,100%{opacity:0.7;}50%{opacity:1;}}
@keyframes rays-breathe{0%,100%{opacity:0.6;width:30px;}50%{opacity:1;width:42px;}}
.s-crack-particles{
  position:absolute;right:0;top:0;bottom:0;width:60px;z-index:19;pointer-events:none;overflow:hidden;
}
.s-crack-particle{
  position:absolute;width:3px;height:3px;border-radius:50%;
  background:rgba(255,220,120,0.9);
  box-shadow:0 0 6px rgba(255,200,60,0.8),0 0 12px rgba(255,180,40,0.3);
  animation:particle-float 3s ease-in-out infinite;
}
.s-crack-particle:nth-child(1){right:15px;top:15%;animation-delay:0s;animation-duration:2.8s;}
.s-crack-particle:nth-child(2){right:25px;top:30%;animation-delay:0.7s;animation-duration:3.4s;width:2px;height:2px;}
.s-crack-particle:nth-child(3){right:10px;top:48%;animation-delay:1.2s;animation-duration:2.5s;}
.s-crack-particle:nth-child(4){right:30px;top:62%;animation-delay:0.3s;animation-duration:3.8s;width:2px;height:2px;}
.s-crack-particle:nth-child(5){right:20px;top:78%;animation-delay:1.8s;animation-duration:3.1s;}
.s-crack-particle:nth-child(6){right:8px;top:88%;animation-delay:0.5s;animation-duration:2.6s;width:2px;height:2px;}
@keyframes particle-float{
  0%{transform:translateX(0) translateY(0);opacity:0;}
  15%{opacity:1;}85%{opacity:0.8;}
  100%{transform:translateX(18px) translateY(-12px);opacity:0;}
}

/* ═══ Start Button in left panel ═══ */
.s-start-area{margin-top:auto;padding-top:10px;display:flex;align-items:center;gap:12px;flex-shrink:0;}
.s-startBtn{
  font-family:'Barlow Condensed',sans-serif;font-weight:900;font-size:22px;
  letter-spacing:6px;text-transform:uppercase;padding:14px 48px;
  cursor:pointer;position:relative;overflow:hidden;transition:all .2s;
  border:none;color:#080604;
  background:linear-gradient(135deg,var(--amber) 0%,var(--amber2) 50%,var(--amber3) 100%);
  clip-path:polygon(0 0,calc(100% - 10px) 0,100% 10px,100% 100%,10px 100%,0 calc(100% - 10px));
  box-shadow:0 0 20px rgba(255,184,48,0.3),0 4px 16px rgba(0,0,0,0.3);
  animation:startBtn-glow 2.5s ease-in-out infinite;
}
.s-startBtn::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.25),transparent);
  transform:translateX(-100%);animation:startBtn-shine 3s ease-in-out infinite;
}
.s-startBtn:hover{
  transform:translateY(-2px) scale(1.02);
  box-shadow:0 0 35px rgba(255,184,48,0.5),0 6px 24px rgba(0,0,0,0.4);
}
@keyframes startBtn-glow{
  0%,100%{box-shadow:0 0 15px rgba(255,184,48,0.25),0 4px 16px rgba(0,0,0,0.3);}
  50%{box-shadow:0 0 30px rgba(255,184,48,0.5),0 0 60px rgba(255,184,48,0.15),0 4px 16px rgba(0,0,0,0.3);}
}
@keyframes startBtn-shine{0%,60%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
.s-startBtn-mute{
  font-family:'Share Tech Mono',monospace;font-size:11px;
  letter-spacing:1px;color:rgba(74,62,24,0.4);
  cursor:pointer;border:1px solid rgba(74,62,24,0.15);background:transparent;
  padding:6px 12px;transition:all .15s;
}
.s-startBtn-mute:hover{color:rgba(74,62,24,0.7);border-color:rgba(74,62,24,0.3);}

/* ═══ Game Launch Transition ═══ */
#launchTransition{
  position:fixed;z-index:999;pointer-events:none;opacity:0;
}

/* ═══ Home Return Cinematic Animation ═══ */
.s-panel-white.home-slide{
  transform:translateX(-110%);
  transition:transform 0.85s cubic-bezier(0.16,1,0.3,1);
}
.s-panel-white.home-slide.home-in{
  transform:translateX(0);
}
.s-panel-dark.home-dark{
  opacity:0;
  transition:opacity 0.6s ease 0.5s;
}
.s-panel-dark.home-dark.home-in{
  opacity:1;
}
.s-topbar.home-bar{opacity:0;transform:translateY(-20px);transition:all 0.4s ease;}
.s-topbar.home-bar.home-in{opacity:1;transform:translateY(0);}
.s-bottombar.home-bar{opacity:0;transform:translateY(10px);transition:all 0.4s ease;}
.s-bottombar.home-bar.home-in{opacity:1;transform:translateY(0);}
/* Stagger children inside white panel - only during cinematic entry */
.cinematic-entry [data-reveal]{opacity:0;transform:translateY(16px);transition:opacity 0.4s ease,transform 0.4s ease;}
.cinematic-entry [data-reveal].revealed{opacity:1;transform:translateY(0);}

/* Rhine Lab Logo on White */
.s-wlogo{display:flex;align-items:center;gap:10px;margin-bottom:16px;flex-shrink:0;}
.s-wlogo-inf{
  font-family:'Barlow Condensed',sans-serif;font-weight:900;font-size:52px;
  color:var(--phosphor2);line-height:1;
  filter:drop-shadow(0 0 11px rgba(0,204,96,0.6)) drop-shadow(1px 1px 0 rgba(0,70,25,0.35));
}
.s-wlogo-txt{display:flex;flex-direction:column;gap:2px;}
.s-wlogo-t1{font-family:'Share Tech Mono',monospace;font-size:14px;letter-spacing:3px;color:#1A5A26;text-transform:uppercase;}
.s-wlogo-t2{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(26,90,38,0.4);text-transform:uppercase;}

/* Giant Title */
.s-wtitle{
  font-family:'Barlow Condensed',sans-serif;font-weight:900;
  line-height:0.8;letter-spacing:-3px;
  margin-bottom:14px;flex-shrink:0;
}
.s-wtitle-hex{
  display:block;font-size:clamp(66px,8vw,118px);
  color:#0C0A06;letter-spacing:-4px;
  text-shadow:3px 3px 0 rgba(0,0,0,0.1);
  position:relative;
}
.s-wtitle-hex::before{
  content:'HEX';position:absolute;left:0;top:0;letter-spacing:-4px;
  color:var(--vhs-r);opacity:0;
  clip-path:polygon(0 18%,100% 18%,100% 36%,0 36%);
  animation:hex-gl-r 13s ease-in-out infinite;
}
.s-wtitle-hex::after{
  content:'HEX';position:absolute;left:0;top:0;letter-spacing:-4px;
  color:var(--vhs-c);opacity:0;
  clip-path:polygon(0 56%,100% 56%,100% 74%,0 74%);
  animation:hex-gl-c 13s ease-in-out infinite;
}
@keyframes hex-gl-r{0%,90%,100%{opacity:0;transform:none}91%{opacity:.92;transform:translateX(8px)}92.5%{opacity:0}}
@keyframes hex-gl-c{0%,90%,100%{opacity:0;transform:none}91.5%{opacity:.65;transform:translateX(-6px)}93%{opacity:0}}
.s-wtitle-snake{
  display:block;font-size:clamp(66px,8vw,118px);
  color:var(--amber3);letter-spacing:-4px;
  text-shadow:3px 3px 0 rgba(100,50,0,0.12),0 0 45px rgba(255,160,16,0.22);
  animation:snake-warm 5s ease-in-out infinite;
}
@keyframes snake-warm{0%,100%{text-shadow:3px 3px 0 rgba(100,50,0,0.12),0 0 18px rgba(255,160,16,0.18);}50%{text-shadow:3px 3px 0 rgba(100,50,0,0.12),0 0 62px rgba(255,160,16,0.48);}}

/* ═══ Hero Tagline ═══ */
.s-hero-tagline{
  font-family:'Barlow Condensed',sans-serif;font-weight:700;
  font-size:clamp(20px,2.5vw,32px);letter-spacing:4px;
  color:#2A2410;line-height:1.2;margin-bottom:4px;flex-shrink:0;
}
.s-hero-sub{
  font-family:'Share Tech Mono',monospace;
  font-size:clamp(12px,1.5vw,16px);letter-spacing:2px;
  color:rgba(74,62,24,0.55);line-height:1.4;margin-bottom:14px;flex-shrink:0;
}

/* ═══ Cassette Tape Component ═══ */
.s-cassette-wrap{display:flex;align-items:center;gap:14px;margin-bottom:12px;flex-shrink:0;}
.s-cassette{
  position:relative;width:178px;height:90px;flex-shrink:0;
  background:linear-gradient(175deg,#D8CDA8 0%,#C2B48C 100%);
  border:1.5px solid #A8946A;border-radius:4px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.45),inset 0 -1px 0 rgba(0,0,0,0.2),2px 4px 12px rgba(0,0,0,0.28);
}
/* Label area (green) */
.s-cass-label{
  position:absolute;left:4px;right:4px;top:4px;height:38px;
  background:linear-gradient(180deg,#224A18 0%,#172E10 100%);
  border-radius:2px;
  display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;
  overflow:hidden;
}
/* Subtle scanlines on cassette label */
.s-cass-label::before{
  content:'';position:absolute;inset:0;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.12) 2px,rgba(0,0,0,0.12) 3px);
}
.s-cass-l1{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2.5px;color:rgba(255,255,255,0.6);text-transform:uppercase;position:relative;z-index:1;}
.s-cass-l2{font-family:'Barlow Condensed',sans-serif;font-size:15px;font-weight:700;letter-spacing:3.5px;color:rgba(255,255,255,0.92);text-transform:uppercase;position:relative;z-index:1;}
/* 4-color VHS stripe */
.s-cass-stripe{
  position:absolute;left:4px;right:4px;top:41px;height:3.5px;z-index:2;
  background:linear-gradient(90deg,var(--vhs-r) 0% 25%,var(--vhs-y) 25% 50%,var(--vhs-c) 50% 75%,var(--phosphor) 75% 100%);
}
/* Tape window */
.s-cass-window{
  position:absolute;left:24px;right:24px;top:47px;bottom:7px;
  background:#07050200;border-radius:2px;border:1px solid #302408;
  box-shadow:inset 0 2px 5px rgba(0,0,0,0.7);
  display:flex;align-items:center;justify-content:space-around;overflow:hidden;
}
/* Tape strip */
.s-cass-window::before{
  content:'';position:absolute;top:50%;left:0;right:0;height:2px;
  background:rgba(30,20,5,0.9);transform:translateY(-50%);
}
/* Reels */
.s-reel{
  width:24px;height:24px;border-radius:50%;flex-shrink:0;
  background:radial-gradient(circle at 33% 28%,#504030 0%,#201808 58%,#100C04 100%);
  border:1px solid #282010;position:relative;z-index:1;
  animation:reel-cw 2s linear infinite;
}
.s-reel::before{
  content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  width:8px;height:8px;border-radius:50%;background:#080604;border:1px solid #181208;
}
.s-reel::after{
  content:'';position:absolute;inset:4px;border-radius:50%;
  border:1px dashed rgba(65,50,18,0.5);
}
.s-reel.r2{animation-name:reel-ccw;animation-duration:2.7s;}
@keyframes reel-cw{from{transform:rotate(0)}to{transform:rotate(360deg)}}
@keyframes reel-ccw{from{transform:rotate(0)}to{transform:rotate(-360deg)}}
/* Screw holes */
.s-cass-screw{
  position:absolute;width:5px;height:5px;border-radius:50%;
  background:radial-gradient(circle at 33% 33%,#B4A072 0%,#786040 100%);
  border:0.5px solid #483818;
}
.s-cass-screw.tl{top:7px;left:9px;}
.s-cass-screw.tr{top:7px;right:9px;}
.s-cass-screw.bl{bottom:7px;left:9px;}
.s-cass-screw.br{bottom:7px;right:9px;}

/* Cassette side content */
.s-cassette-side{display:flex;flex-direction:column;gap:5px;}
.s-tagline{font-family:'Share Tech Mono',monospace;font-size:13px;letter-spacing:1.5px;color:#4A3E18;line-height:1.8;}
.s-cas-meta{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;color:rgba(74,62,24,0.42);text-transform:uppercase;}

/* VHS 4-color bar on white panel */
.s-vhs-bar{
  height:5px;flex-shrink:0;margin-bottom:11px;position:relative;overflow:hidden;
  background:linear-gradient(90deg,var(--vhs-r) 0% 25%,var(--vhs-y) 25% 50%,var(--vhs-c) 50% 75%,var(--phosphor) 75% 100%);
}
.s-vhs-bar::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.28),transparent);
  animation:bar-shine 4s ease-in-out infinite;
}
@keyframes bar-shine{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}

/* Badges on white */
.s-badges{display:flex;flex-wrap:wrap;gap:5px;margin-top:auto;padding-top:8px;}
.s-badge{
  font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:1.5px;
  padding:5px 12px;text-transform:uppercase;border:1px solid;
  transition:all .14s;cursor:default;
}
.s-badge:hover{transform:translateY(-2px);}
.s-badge.r{color:var(--vhs-r);border-color:rgba(255,40,64,0.38);background:rgba(255,40,64,0.08);}
.s-badge.y{color:#6A4E00;border-color:rgba(130,96,0,0.38);background:rgba(130,96,0,0.06);}
.s-badge.c{color:#005C60;border-color:rgba(0,130,140,0.35);background:rgba(0,130,140,0.06);}
.s-badge.g{color:#1A5028;border-color:rgba(26,80,40,0.4);background:rgba(26,80,40,0.07);}
.s-badge.w{color:#4A3A22;border-color:rgba(74,58,34,0.38);background:rgba(74,58,34,0.05);}

/* Section label (shared) */
.s-seclabel{
  font-family:'Share Tech Mono',monospace;font-size:11px;
  letter-spacing:3px;color:rgba(255,184,48,0.3);text-transform:uppercase;
  margin-bottom:8px;display:flex;align-items:center;gap:8px;
}
.s-seclabel::after{content:'';flex:1;height:1px;background:rgba(255,184,48,0.06);}

/* ════ RIGHT: Dark Control Side ════ */
.s-panel-dark{
  display:grid;
  grid-template-rows:56% 44%;
  position:relative;
}

/* ── Top-Right: CRT Orbital Display ── */
.s-crt-display{
  position:relative;overflow:hidden;
  border-bottom:1px solid rgba(255,184,48,0.05);
}
/* CRT scanline overlay */
.s-crt-display::before{
  content:'';position:absolute;inset:0;z-index:11;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,0,0,0.09) 3px,rgba(0,0,0,0.09) 4px);
}
/* CRT label */
.s-crt-label{
  position:absolute;top:9px;left:16px;z-index:15;
  font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2.5px;
  color:rgba(255,184,48,0.3);pointer-events:none;
}
/* CRT ambient glow */
.s-crt-display::after{
  content:'';position:absolute;inset:0;z-index:10;pointer-events:none;
  background:radial-gradient(ellipse at 50% 50%,rgba(232,100,10,0.03) 0%,transparent 65%);
  animation:crt-ambient 6s ease-in-out infinite;
}
@keyframes crt-ambient{0%,100%{opacity:0.7}50%{opacity:1}}
/* CRT corner brackets */
.s-crt-corner{position:absolute;z-index:16;width:16px;height:16px;}
.s-crt-corner.tl{top:6px;left:6px;border-top:1px solid rgba(255,184,48,0.35);border-left:1px solid rgba(255,184,48,0.35);}
.s-crt-corner.tr{top:6px;right:6px;border-top:1px solid rgba(232,100,10,0.35);border-right:1px solid rgba(232,100,10,0.35);}
.s-crt-corner.bl{bottom:6px;left:6px;border-bottom:1px solid rgba(232,100,10,0.35);border-left:1px solid rgba(232,100,10,0.35);}
.s-crt-corner.br{bottom:6px;right:6px;border-bottom:1px solid rgba(255,184,48,0.35);border-right:1px solid rgba(255,184,48,0.35);}

/* Targeting reticle in CRT display */
.s-reticle{
  position:absolute;top:45%;left:62%;transform:translate(-50%,-50%);
  width:100px;height:100px;z-index:14;pointer-events:none;
}
.s-ret-ring{
  position:absolute;border-radius:50%;border:1px solid rgba(0,244,232,0.2);
}
.s-ret-ring.r1{inset:0;animation:ret-spin 20s linear infinite;}
.s-ret-ring.r1::after{content:'';position:absolute;width:5px;height:5px;border-radius:50%;background:var(--vhs-c);top:50%;right:-2.5px;transform:translateY(-50%);box-shadow:0 0 6px var(--vhs-c);}
.s-ret-ring.r2{inset:24%;border-color:rgba(0,244,232,0.15);animation:ret-spin-r 13s linear infinite;}
.s-ret-ring.r3{inset:42%;border-color:rgba(255,184,48,0.28);animation:ret-spin 8s linear infinite;}
.s-ret-ring.r3::after{content:'';position:absolute;width:4px;height:4px;border-radius:50%;background:var(--amber);top:-2px;left:50%;transform:translateX(-50%);box-shadow:0 0 5px var(--amber);}
/* Outer dashed orbit */
.s-ret-ring.r0{inset:-20%;border-style:dashed;border-color:rgba(255,184,48,0.07);animation:ret-spin-r 45s linear infinite;}
.s-ret-cross::before{content:'';position:absolute;top:50%;left:0;right:0;height:1px;transform:translateY(-50%);background:linear-gradient(90deg,transparent,rgba(0,244,232,0.2),rgba(0,244,232,0.2),transparent);}
.s-ret-cross::after{content:'';position:absolute;left:50%;top:0;bottom:0;width:1px;transform:translateX(-50%);background:linear-gradient(180deg,transparent,rgba(0,244,232,0.2),rgba(0,244,232,0.2),transparent);}
.s-ret-dot{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  width:6px;height:6px;border-radius:50%;
  background:var(--vhs-c);box-shadow:0 0 12px var(--vhs-c),0 0 24px rgba(0,244,232,0.2);
  animation:ret-pulse 2.8s ease-in-out infinite;
}
@keyframes ret-spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
@keyframes ret-spin-r{from{transform:rotate(0)}to{transform:rotate(-360deg)}}
@keyframes ret-pulse{0%,100%{box-shadow:0 0 8px var(--vhs-c);}50%{box-shadow:0 0 22px var(--vhs-c),0 0 44px rgba(0,244,232,0.18);}}
.s-ret-cross{position:absolute;inset:0;}

/* CRT data strip at bottom of display */
.s-crt-data{
  position:absolute;bottom:0;left:0;right:0;z-index:16;
  display:flex;gap:0;padding:6px 14px;
  background:rgba(0,0,0,0.5);border-top:1px solid rgba(255,184,48,0.1);
  font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:1.5px;
  color:rgba(255,184,48,0.25);pointer-events:none;
}
.s-crt-data-item{flex:1;display:flex;gap:5px;}
.s-crt-data-item span{color:rgba(255,184,48,0.7);}

/* ── Bottom-Right: Control Panel ── */
.s-control-panel{display:grid;grid-template-columns:42% 1px 58%;}
.s-cp-div{background:rgba(255,184,48,0.04);align-self:stretch;}

/* Controls column */
.s-controls-area{padding:14px 14px;display:flex;flex-direction:column;}
.s-keytable{width:100%;border-collapse:collapse;}
.s-keytable tr{border-bottom:1px solid rgba(255,184,48,0.04);transition:background .12s;}
.s-keytable tr:hover{background:rgba(255,184,48,0.03);}
.s-keytable tr:last-child{border-bottom:none;}
.s-keytable td{padding:4px 3px;}
.s-kb{
  font-family:'Share Tech Mono',monospace;font-size:13px;color:var(--nasa-white);
  background:rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.06);
  border-bottom:2px solid rgba(255,184,48,0.14);
  padding:3px 8px;white-space:nowrap;display:inline-block;transition:all .12s;
}
.s-keytable tr:hover .s-kb{border-bottom-color:var(--amber);background:rgba(255,184,48,0.05);color:var(--amber2);}
.s-kdesc{font-size:14px;color:rgba(238,232,216,0.26);padding-left:7px;letter-spacing:0.4px;}

/* Cards column */
.s-cards-area{padding:10px 14px;display:flex;flex-direction:column;gap:5px;}
.s-card{
  position:relative;overflow:hidden;
  background:rgba(255,255,255,0.018);
  border:1px solid rgba(255,255,255,0.055);
  padding:10px 12px 10px 16px;
  transition:all .15s;cursor:default;flex:1;
}
.s-card-lstrip{position:absolute;left:0;top:0;bottom:0;width:4px;background:var(--amber);}
.s-card.r .s-card-lstrip{background:var(--vhs-r);}
.s-card.c .s-card-lstrip{background:var(--vhs-c);}
.s-card.g .s-card-lstrip{background:var(--phosphor);}
.s-card::after{content:'';position:absolute;inset:0;pointer-events:none;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.06) 2px,rgba(0,0,0,0.06) 3px);}
.s-card:hover{background:rgba(255,184,48,0.05);border-color:rgba(255,184,48,0.15);transform:translateX(4px);}
.s-card.r:hover{background:rgba(255,40,64,0.05);border-color:rgba(255,40,64,0.14);}
.s-card.c:hover{background:rgba(0,244,232,0.05);border-color:rgba(0,244,232,0.14);}
.s-card.g:hover{background:rgba(0,255,136,0.05);border-color:rgba(0,255,136,0.14);}
.s-card-head{display:flex;align-items:center;gap:8px;margin-bottom:4px;position:relative;z-index:1;}
.s-card-icon{font-size:16px;color:var(--amber);width:20px;text-align:center;flex-shrink:0;}
.s-card.r .s-card-icon{color:var(--vhs-r);}
.s-card.c .s-card-icon{color:var(--vhs-c);}
.s-card.g .s-card-icon{color:var(--phosphor);}
.s-card-title{font-family:'Barlow Condensed',sans-serif;font-size:18px;font-weight:700;letter-spacing:1px;color:var(--nasa-white);flex:1;}
.s-card-id{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:1px;color:rgba(238,232,216,0.18);}
.s-card-desc{font-family:'Share Tech Mono',monospace;font-size:12px;letter-spacing:0.6px;color:rgba(238,232,216,0.32);line-height:1.6;padding-left:28px;position:relative;z-index:1;}

/* ── Buttons ── */
.bigBtn{
  font-family:'Barlow Condensed',sans-serif;font-weight:700;font-size:18px;
  letter-spacing:5px;text-transform:uppercase;padding:13px 48px;
  cursor:pointer;position:relative;overflow:hidden;transition:all .15s;
  clip-path:polygon(0 0,calc(100% - 8px) 0,100% 8px,100% 100%,8px 100%,0 calc(100% - 8px));
  border:none;background:var(--amber);color:#080604;
}
.bigBtn::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.15),transparent);transform:translateX(-100%);transition:transform .4s;}
.bigBtn:hover{background:var(--amber2);transform:translateY(-1px);}
.bigBtn:hover::after{transform:translateX(100%);}
.bigBtn.ghost{background:transparent;color:var(--amber);border:1.5px solid rgba(255,184,48,0.4);clip-path:none;transition:all .15s;}
.bigBtn.ghost:hover{background:rgba(255,184,48,0.1);border-color:var(--amber);}
.bigBtn.ghost::after{display:none;}

/* ═══════════════════════════════════════════════
   GAME OVER SCREEN — CRT SIGNAL RECOVERY
═══════════════════════════════════════════════ */
#goScreen{display:none;background:#06050A;overflow:hidden;}
#goScreen.show{display:flex;flex-direction:column;align-items:stretch;}
#goBg{position:absolute;inset:0;z-index:0;}
/* Scanlines */
#goScreen::before{
  content:'';position:absolute;inset:0;z-index:10;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,0,0,0.18) 3px,rgba(0,0,0,0.18) 4px);
}
/* Vignette */
#goScreen::after{
  content:'';position:absolute;inset:0;z-index:9;pointer-events:none;
  background:radial-gradient(ellipse at center,transparent 40%,rgba(0,0,0,0.7) 100%);
}

/* CRT Boot Line */
.go-bootline{
  position:absolute;top:50%;left:0;right:0;height:2px;z-index:20;
  background:rgba(255,240,200,0.9);
  box-shadow:0 0 20px rgba(255,200,60,0.8),0 0 60px rgba(255,184,48,0.3);
  transform:scaleX(0);pointer-events:none;
}
.go-bootline.boot-1{animation:go-boot-h 0.3s ease-out forwards;}
.go-bootline.boot-2{animation:go-boot-v 0.4s ease-out 0.3s forwards;}
@keyframes go-boot-h{0%{transform:scaleX(0);}100%{transform:scaleX(1);}}
@keyframes go-boot-v{
  0%{top:50%;height:2px;opacity:1;}
  100%{top:0;height:100%;opacity:0;}
}

/* Main Layout */
.go-crt{
  position:relative;z-index:11;width:100%;height:100%;
  display:grid;grid-template-rows:auto 1fr auto;
  opacity:0;
}
.go-crt.visible{opacity:1;transition:opacity 0.4s ease;}

/* Header */
.go-header{
  padding:20px 52px 16px;border-bottom:1px solid rgba(255,40,64,0.2);
  display:flex;align-items:flex-end;justify-content:space-between;
}
.go-status{
  font-family:'Share Tech Mono',monospace;font-size:11px;
  letter-spacing:3px;color:rgba(255,40,64,0.6);
  display:flex;align-items:center;gap:8px;
}
.go-status::before{
  content:'';width:6px;height:6px;border-radius:50%;
  background:#C8281E;box-shadow:0 0 8px #C8281E;
  animation:rec-blink .8s ease-in-out infinite;
}
.go-title{
  font-family:'Barlow Condensed',sans-serif;font-size:42px;font-weight:900;
  letter-spacing:8px;color:var(--nasa-white);line-height:1;
}
.go-title span{color:#C8281E;text-shadow:0 0 15px rgba(200,40,30,0.5);}
.go-record-tag{
  font-family:'Barlow Condensed',sans-serif;font-size:18px;font-weight:700;
  letter-spacing:3px;padding:4px 16px;text-transform:uppercase;
}
.go-record-tag.new{
  background:var(--amber);color:#080604;
  clip-path:polygon(0 0,calc(100% - 5px) 0,100% 5px,100% 100%,5px 100%,0 calc(100% - 5px));
  box-shadow:0 0 20px rgba(255,184,48,0.5);
  animation:go-record-pulse 1.5s ease-in-out infinite;
}
.go-record-tag.normal{color:rgba(238,232,216,0.3);border:1px solid rgba(255,255,255,0.08);}
@keyframes go-record-pulse{0%,100%{box-shadow:0 0 15px rgba(255,184,48,0.3);}50%{box-shadow:0 0 35px rgba(255,184,48,0.7);}}

/* Body: left big score + right terminal */
.go-body{
  padding:24px 52px;display:grid;
  grid-template-columns:1fr 1fr;gap:40px;align-content:center;
}

/* Left: Big Score Area */
.go-left{display:flex;flex-direction:column;justify-content:center;gap:16px;}
.go-score-label{
  font-family:'Share Tech Mono',monospace;font-size:13px;
  letter-spacing:4px;color:rgba(255,184,48,0.35);
}
.go-score-num{
  font-family:'Barlow Condensed',sans-serif;font-size:clamp(72px,10vw,120px);
  font-weight:900;color:var(--amber);line-height:1;
  text-shadow:0 0 30px rgba(255,184,48,0.4),0 0 60px rgba(255,184,48,0.15);
}
.go-score-num.is-record{
  color:#FFE066;
  text-shadow:0 0 40px rgba(255,224,100,0.6),0 0 80px rgba(255,200,60,0.3);
}
.go-hiscore-line{
  font-family:'Share Tech Mono',monospace;font-size:15px;
  letter-spacing:2px;color:rgba(238,232,216,0.25);
}
.go-hiscore-line span{color:rgba(255,184,48,0.6);}
/* Terminal data lines */
.go-datalines{display:flex;flex-direction:column;gap:0;margin-top:12px;}
.go-dline{
  font-family:'Share Tech Mono',monospace;font-size:16px;
  letter-spacing:1px;color:rgba(238,232,216,0.5);
  padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.03);
  display:flex;justify-content:space-between;
}
.go-dline-val{color:var(--nasa-white);font-weight:700;letter-spacing:0;}
.go-dline-val.amber{color:var(--amber);}
.go-dline-val.red{color:#C8281E;}
.go-dline-val.green{color:var(--phosphor);}

/* Right: Terminal Log */
.go-right{display:flex;flex-direction:column;justify-content:center;gap:6px;}
.go-terminal-header{
  font-family:'Share Tech Mono',monospace;font-size:12px;
  letter-spacing:3px;color:rgba(255,184,48,0.2);
  padding-bottom:8px;border-bottom:1px solid rgba(255,184,48,0.06);
  margin-bottom:6px;
}
.go-tline{
  font-family:'Share Tech Mono',monospace;font-size:15px;
  color:rgba(0,244,232,0.5);letter-spacing:0.5px;
  padding:7px 0;line-height:1.6;
}
.go-tline .t-key{color:rgba(0,244,232,0.3);}
.go-tline .t-val{color:rgba(0,244,232,0.85);font-weight:700;}
.go-tline .t-dot{
  flex:1;border-bottom:1px dotted rgba(0,244,232,0.12);
  margin:0 8px;align-self:flex-end;margin-bottom:4px;
}
.go-tline-row{display:flex;align-items:baseline;}
/* Blinking cursor */
.go-cursor{
  display:inline-block;width:9px;height:16px;
  background:rgba(0,244,232,0.7);margin-left:4px;
  animation:cursor-blink 0.6s step-end infinite;vertical-align:text-bottom;
}
@keyframes cursor-blink{0%,100%{opacity:1;}50%{opacity:0;}}

/* Bullet info bar */
.go-bullet-info{
  font-family:'Share Tech Mono',monospace;font-size:13px;
  letter-spacing:2px;color:rgba(238,232,216,0.2);
  margin-top:12px;padding-top:10px;
  border-top:1px solid rgba(255,255,255,0.04);
}

/* Footer / Actions */
.go-footer{
  background:rgba(0,0,0,0.5);border-top:1px solid rgba(255,184,48,0.1);
  padding:16px 52px;display:flex;align-items:center;justify-content:center;gap:16px;
}
.go-cmd{
  font-family:'Share Tech Mono',monospace;font-size:13px;
  letter-spacing:2px;color:rgba(255,184,48,0.2);
}
.go-cmd kbd{
  color:rgba(255,184,48,0.5);border:1px solid rgba(255,184,48,0.15);
  padding:2px 6px;margin-right:4px;font-size:11px;
}

/* Language toggle */
.go-lang-toggle{
  position:absolute;left:52px;bottom:16px;z-index:15;
  font-family:'Share Tech Mono',monospace;font-size:12px;
  letter-spacing:2px;color:rgba(255,184,48,0.35);
  background:rgba(255,184,48,0.04);border:1px solid rgba(255,184,48,0.12);
  padding:5px 14px;cursor:pointer;transition:all .15s;
}
.go-lang-toggle:hover{
  color:rgba(255,184,48,0.7);background:rgba(255,184,48,0.08);border-color:rgba(255,184,48,0.3);
}

/* Line-by-line reveal animation */
.go-reveal{opacity:0;transform:translateY(6px);}
.go-reveal.shown{opacity:1;transform:translateY(0);transition:opacity 0.3s ease,transform 0.3s ease;}

/* ─ Evo Screen ─ */
#evoScreen{display:none;background:#070A0F;}
#evoScreen.show{display:flex;flex-direction:column;align-items:center;justify-content:center;}
.evoHeader{width:820px;display:flex;align-items:center;gap:0;margin-bottom:18px;border-bottom:1px solid rgba(232,100,10,0.3);padding-bottom:10px;position:relative;}
.evoHeader::before{content:'';position:absolute;bottom:-1px;left:0;width:80px;height:2px;background:var(--or);}
.evoTitle{font-size:22px;font-weight:700;letter-spacing:8px;color:var(--or);text-transform:uppercase;flex:1;font-family:'Share Tech Mono',monospace;}
.evoHint{font-family:'Share Tech Mono',monospace;color:rgba(100,130,160,0.7);font-size:12px;letter-spacing:1px;text-align:right;}
#evoCanvas{display:block;cursor:pointer;border:1px solid rgba(232,100,10,0.15);}
.evoWarn{font-family:'Share Tech Mono',monospace;color:var(--or);font-size:13px;height:18px;margin-top:8px;letter-spacing:1px;}

/* ═══ MODE TOGGLE — Cassette Deck A/B Switch ═══ */
.s-mode-wrap{display:flex;flex-direction:column;align-items:center;gap:6px;margin-bottom:12px;}
.s-mode-label{
  font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;
  color:rgba(74,62,24,0.35);text-transform:uppercase;
  display:flex;align-items:center;gap:8px;width:100%;
}
.s-mode-label::before,.s-mode-label::after{content:'';flex:1;height:1px;background:rgba(74,62,24,0.12);}
.s-mode-switch{
  position:relative;display:flex;width:280px;height:48px;
  background:#100E08;border:1.5px solid rgba(74,62,24,0.3);
  overflow:hidden;cursor:pointer;
  clip-path:polygon(0 0,calc(100% - 6px) 0,100% 6px,100% 100%,6px 100%,0 calc(100% - 6px));
}
/* VHS stripe top */
.s-mode-switch::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2.5px;z-index:5;
  background:linear-gradient(90deg,var(--vhs-r) 0% 25%,var(--vhs-y) 25% 50%,var(--vhs-c) 50% 75%,var(--phosphor) 75% 100%);
}
/* Scanlines */
.s-mode-switch::after{
  content:'';position:absolute;inset:0;z-index:4;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,0,0,0.15) 3px,rgba(0,0,0,0.15) 4px);
}
/* Slider track */
.s-mode-slider{
  position:absolute;top:3px;bottom:1px;width:50%;z-index:2;
  transition:left .35s cubic-bezier(0.4,0,0.2,1);
  left:0;
}
.s-mode-switch.mode3d .s-mode-slider{left:50%;}
.s-mode-slider-inner{
  position:absolute;inset:2px;
  background:linear-gradient(135deg,var(--amber) 0%,var(--amber3) 100%);
  box-shadow:0 0 12px rgba(255,184,48,0.4),inset 0 1px 0 rgba(255,255,255,0.15);
  clip-path:polygon(0 0,calc(100% - 4px) 0,100% 4px,100% 100%,4px 100%,0 calc(100% - 4px));
}
/* Shine sweep on slider */
.s-mode-slider-inner::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.18),transparent);
  transform:translateX(-100%);animation:modeSliderShine 3.5s ease-in-out infinite;
}
@keyframes modeSliderShine{0%,65%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
/* Side labels */
.s-mode-side{
  position:relative;z-index:3;width:50%;height:100%;
  display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1px;
  cursor:pointer;transition:all .3s;pointer-events:auto;
}
.s-mode-side-code{
  font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;
  transition:color .3s;color:rgba(255,184,48,0.2);
}
.s-mode-side-name{
  font-family:'Barlow Condensed',sans-serif;font-weight:900;font-size:16px;
  letter-spacing:4px;text-transform:uppercase;transition:color .3s;
  color:rgba(255,184,48,0.25);
}
/* Active side (under the slider) = dark text */
.s-mode-side.active .s-mode-side-code{color:rgba(8,6,4,0.5);}
.s-mode-side.active .s-mode-side-name{color:#080604;}
/* Inactive side = amber text */
.s-mode-side:not(.active) .s-mode-side-code{color:rgba(255,184,48,0.2);}
.s-mode-side:not(.active) .s-mode-side-name{color:rgba(255,184,48,0.3);}
.s-mode-side:not(.active):hover .s-mode-side-name{color:rgba(255,184,48,0.5);}
/* Corner screws */
.s-mode-screw{
  position:absolute;width:5px;height:5px;border-radius:50%;z-index:6;
  background:radial-gradient(circle at 33% 33%,#504030,#201808);border:0.5px solid #483818;
}
.s-mode-screw.tl{top:5px;left:5px;}.s-mode-screw.tr{top:5px;right:5px;}
.s-mode-screw.bl{bottom:4px;left:5px;}.s-mode-screw.br{bottom:4px;right:5px;}

/* ═══ 3D MINIMAP ═══ */
#minimap3d{position:fixed;bottom:16px;left:16px;z-index:55;display:none;}
#minimap3d.show{display:block;}
